{"version":3,"file":"static/webpack/static\\development\\pages\\dashboard\\admin\\users\\active.js.42243ae1d5560ee2d533.hot-update.js","sources":["webpack:///./components/DashboardUser/EditUser.js"],"sourcesContent":["import AdminLayoutHoc from '../Layout/AdminLayoutHoc';\r\nimport Link from 'next/link';\r\nimport { withRouter } from 'next/router';\r\n\r\nclass Index extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      data: {\r\n        email: \"\",\r\n        password: \"\",\r\n        re_password: \"\",\r\n      },\r\n      alert: {\r\n        edit_danger: '',\r\n        edit_success: '',\r\n      }\r\n    }\r\n\r\n    this.onChange = this.onChange.bind(this)\r\n    this.onSubmit = this.onSubmit.bind(this)\r\n    this.onRefresh = this.onRefresh.bind(this)\r\n  }\r\n\r\n  onChange (event) {\r\n    const {data} = this.state\r\n    data[event.target.name] = event.target.value\r\n    this.setState({data})\r\n  }\r\n\r\n  async onRefresh () {\r\n    const response = await fetch(`http://127.0.0.1:8000/fact/user/` + this.props.router.query.id)\r\n    const json = await response.json()\r\n    const data = {\r\n      email: json.results.email,\r\n      password: \"\",\r\n      re_password: \"\",\r\n    }\r\n\r\n    this.setState({ data })\r\n  }\r\n\r\n  async onSubmit () {\r\n    const alert = this.state.alert\r\n    const body = this.state.data\r\n    const response = await fetch(`http://127.0.0.1:8000/fact/user/` + this.props.router.query.id, {method: \"PUT\", body})\r\n    const json = await response.json()\r\n\r\n    if (typeof json.message === 'undefined' || json.message !== 'Success') {\r\n      alert.edit_danger = \"500 — Internal Server Error\"\r\n      await this.setState({alert})\r\n    }\r\n    else {\r\n      alert.edit_success = \"Edit User, \" + this.state.data.email + \" — Success\"\r\n      await this.setState({alert})\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.onRefresh()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <AdminLayoutHoc contentTitle={'Edit User'} contentBreadcrumb={[\"Home\", \"Users\", \"Active Users\", \"Edit\"]}>\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <div className=\"form-group\">\r\n              <label>Email address</label>\r\n              <input name=\"email\" value={this.state.data.email} onChange={this.onChange} type=\"email\" className=\"form-control\" placeholder=\"Enter email\" />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>New Password</label>\r\n              <input name=\"password\" value={this.state.data.password} onChange={this.onChange} type=\"password\" className=\"form-control\" placeholder=\"Enter new password\" />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label>Confirm New Password</label>\r\n              <input name=\"re_password\" value={this.state.data.re_password} onChange={this.onChange} type=\"password\" className=\"form-control\" placeholder=\"Confirm new password\" />\r\n            </div>\r\n            <div className=\"row mt-5\">\r\n              <div className=\"col-md-5\">\r\n                <button type=\"button\" className=\"btn btn-info btn-block\" onClick={this.onSubmit}>Save</button>\r\n              </div>\r\n              <div className=\"col-md-5 offset-md-2\">\r\n                <button type=\"button\" className=\"btn btn-light btn-block\">Cancel</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </AdminLayoutHoc>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Index)\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAFA;AANA;AAYA;AACA;AACA;AAhBA;AAiBA;AACA;;;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;AAGA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AACA;AACA;AACA;AAHA;AAMA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;;AACA;AAAA;AAAA;AAAA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AACA;;;;;AACA;;AACA;AAAA;AAAA;AACA;;;;;;AAEA;;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;AAGA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AAvFA;AACA;AAyFA;;;;A","sourceRoot":""}